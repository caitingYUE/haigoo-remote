# 整体功能开发规则
- 尽量重后端，轻前端
- 前端只负责传递过滤参数、展示数据、处理用户交互等
- 后端通过数据库sql语句，实现联表、筛选、分页等逻辑

# 后端代码修改规范
## 代码位置
- Next.js结构
- 主要在/api目录下，进一步的会有 /lib/api-handlers、/lib/cron-handlers、/lib/services、/server-utils目录
## 数据库操作
- 表结构定义在 /server-utils/dal/neon-ddl.sql 中
    - 不允许删除已有内容，只允许追加
    - 不要直接修改已有内容，比如要修改表结构，需要在该文件中继续新增对应的语句（比如，ALTER TABLE ...）
    - 业务需要，新增表结构时，需要在该文件中新增对应的建表语句，注释中记录日期、表的简介
    - 业务需要，修改表结构时，需要在该文件中新增对应的修改语句，注释中记录日期、修改的原因
    - 业务需要，删除表结构时，需要在该文件中新增对应的删除语句，注释中记录日期、删除的原因
    - 当前业务，暂时不需要建立索引
- 所有数据库底层操作都封装在 /server-utils/dal/neon-helper.js 中，服务层调用这些函数进行数据库操作
    - 服务层仅仅调用进行增删改查的SQL操作，不要直接写建表/删除表/修改表结构的语句，这些应该在 /server-utils/dal/neon-ddl.sql 中定义，由人工在数据库后台执行
## 后端代码开发
- 关键的环节多使用console.log打印日志（如，step1、step2...），方便排查问题
## Mock 数据规范
- **严禁使用 Mock 数据或功能**：在任何场景下（包括开发、测试、生产），都不得使用 Mock 数据。如果服务不可用或发生错误，必须直接报错，而不是回退到 Mock 数据。错误就是错误，必须暴露出来以便修复。

# 前端代码修改规范
- 前端主要负责数据的获取和展示，不要做过多的复杂操作
    - 不要过度使用缓存，类似分页、搜索等能力，应该在服务端实现，而不是前端拉取全部数据然后缓存之后再做操作。